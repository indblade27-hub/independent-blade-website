import React from "react";

export default function Home() {
  return (
    <div style={{ fontFamily: "Segoe UI, sans-serif", background: "#f8f9fb", color: "#222" }}>
      {/* Navigation */}
      <nav style={{ background: "#0f172a", padding: "18px 30px", display: "flex", justifyContent: "space-between", alignItems: "center" }}>
        <h1 style={{ color: "white", margin: 0, fontSize: "20px", letterSpacing: "1px" }}>
          Independent Blade
        </h1>
        <div>
          <a href="#services" style={linkStyle}>Services</a>
          <a href="#industries" style={linkStyle}>Industries</a>
          <a href="#booking" style={linkStyle}>Booking</a>
          <a href="#contact" style={linkStyle}>Contact</a>
        </div>
      </nav>

      {/* Header */}
      <header style={{ background: "linear-gradient(135deg,#0f172a,#1e293b)", color: "white", padding: "90px 20px", textAlign: "center" }}>
        <h2 style={{ fontSize: "38px", marginBottom: "20px" }}>
          Precision Blade Sharpening & Supply
        </h2>
        <p style={{ maxWidth: "700px", margin: "auto", fontSize: "18px", opacity: 0.9 }}>
          Professional sharpening, servicing, and supply of industrial and commercial blades.
          Primarily servicing the Highveld and parts of the Lowveld, with operations mainly
          based in Johannesburg (JHB).
        </p>
      </header>

      {/* Services */}
      <Section id="services" title="Our Services">
        <Card title="Blade Sharpening">
          Precision sharpening for circular saw blades, planer blades, guillotine blades,
          clipper blades and custom tooling to extend tool life and maximise performance.
        </Card>
        <Card title="Delivery & Collection">
          Reliable pickup and delivery service designed to reduce downtime and keep your
          operations running efficiently.
        </Card>
        <Card title="Blade Supply">
          High-quality industrial and commercial blades supplied according to your
          application and production requirements.
        </Card>
      </Section>

      {/* Industries */}
      <Section id="industries" title="Industries We Serve">
        {[
          "Pallet Manufacturers",
          "Shopfitters",
          "Plastic Manufacturers",
          "Furniture Manufacturers",
          "Sawmills",
          "Joinery Workshops",
          "Packaging Companies",
          "Barbers & Grooming Salons",
        ].map((industry) => (
          <Card key={industry}>{industry}</Card>
        ))}
      </Section>

      {/* Booking */}
      <section id="booking">
  <h2>Book a Blade Service</h2>
  <p>We service the Highveld and parts of the Lowveld.  
  Turnaround time: <strong>3â€“5 Business Days</strong></p>

  <form id="bookingForm">
    <input type="text" name="name" placeholder="Full Name" required>
    <input type="tel" name="phone" placeholder="Phone Number" required>
    <input type="email" name="email" placeholder="Email Address" required>

    <input type="text" name="area" placeholder="Your Area (e.g. Secunda)" required>

    <input type="date" name="date" required>

    <textarea name="notes" placeholder="Blade type, quantity, notes"></textarea>

    <button type="submit">Request Booking</button>
  </form>

  <div id="formMessage"></div>
</section>
        
<section id="routes">
  <h2>Upcoming Service Routes</h2>
  <div id="routeList"></div>
</section>

        <script>
const sheetAPI = "https://opensheet.elk.sh/AKfycbwIFCijBHaw2DUGqX_6RfKL8wFotXwwnMHOdfqv1qkmsKyPYIwNZUI2NTdy9Cz1_O8sgw/Bookings";

fetch(sheetAPI)
  .then(res => res.json())
  .then(data => {
    const routeList = document.getElementById("routeList");

    const confirmed = data.filter(row => row.Status === "Confirmed");

    if (confirmed.length === 0) {
      routeList.innerHTML = "<p>No confirmed routes yet.</p>";
      return;
    }

    confirmed.forEach(row => {
      routeList.innerHTML += `
        <div style="margin-bottom:10px;">
          <strong>${row["Preferred Date"]}</strong> â€“ ${row.Area}
        </div>
      `;
    });
  });
</script>
      {/* Contact */}
      <section id="contact" style={{ ...sectionStyle, background: "#0f172a", color: "white", textAlign: "center" }}>
        <h3 style={sectionTitleStyle}>Contact Independent Blade</h3>
        <p><strong>Kyle</strong></p>
        <p>ðŸ“ž 084 035 6467</p>
        <p>ðŸ“§ indblade27@gmail.com</p>

        <form action="mailto:indblade27@gmail.com" method="post" encType="text/plain" style={{ ...formStyle, marginTop: "30px" }}>
          <input type="text" name="Name" placeholder="Your Name" required style={inputStyle} />
          <input type="email" name="Email" placeholder="Your Email" required style={inputStyle} />
          <textarea name="Message" placeholder="Your message..." required style={{ ...inputStyle, minHeight: "120px" }} />
          <button type="submit" style={buttonStyle}>Send Email</button>
        </form>
      </section>

      {/* Footer */}
      <footer style={{ background: "#020617", color: "#94a3b8", textAlign: "center", padding: "20px", fontSize: "13px" }}>
        Â© 2026 Independent Blade. All Rights Reserved.
      </footer>

      {/* WhatsApp Floating Button */}
      <a
        href="https://wa.me/27840356467"
        target="_blank"
        rel="noopener noreferrer"
        style={{
          position: "fixed",
          width: "60px",
          height: "60px",
          bottom: "25px",
          right: "25px",
          backgroundColor: "#25D366",
          color: "white",
          borderRadius: "50%",
          display: "flex",
          alignItems: "center",
          justifyContent: "center",
          fontSize: "28px",
          textDecoration: "none",
          boxShadow: "2px 2px 8px rgba(0,0,0,0.2)",
        }}
      >
        ðŸ’¬
      </a>
    </div>
  );
}

/* Reusable Styles */
const linkStyle: React.CSSProperties = {
  color: "#cbd5e1",
  textDecoration: "none",
  marginLeft: "20px",
  fontSize: "14px",
};

const sectionStyle: React.CSSProperties = {
  padding: "70px 20px",
  maxWidth: "1100px",
  margin: "auto",
};

const sectionTitleStyle: React.CSSProperties = {
  textAlign: "center",
  fontSize: "28px",
  marginBottom: "50px",
};

const gridStyle: React.CSSProperties = {
  display: "grid",
  gridTemplateColumns: "repeat(auto-fit, minmax(280px, 1fr))",
  gap: "25px",
};

const formStyle: React.CSSProperties = {
  display: "flex",
  flexDirection: "column",
  gap: "15px",
};

const inputStyle: React.CSSProperties = {
  padding: "14px",
  borderRadius: "8px",
  border: "none",
  fontSize: "14px",
};

const buttonStyle: React.CSSProperties = {
  background: "#2563eb",
  color: "white",
  border: "none",
  padding: "14px",
  borderRadius: "8px",
  fontSize: "15px",
  cursor: "pointer",
};

function Section({ id, title, children }: { id: string; title: string; children: React.ReactNode }) {
  return (
    <section id={id} style={sectionStyle}>
      <h3 style={sectionTitleStyle}>{title}</h3>
      <div style={gridStyle}>{children}</div>
    </section>
  );
}

function Card({ title, children }: { title?: string; children: React.ReactNode }) {
  return (
    <div style={{ background: "white", padding: "30px", borderRadius: "14px", boxShadow: "0 6px 18px rgba(0,0,0,0.06)" }}>
      {title && <h4 style={{ marginTop: 0 }}>{title}</h4>}
      <div>{children}</div>
    </div>
  );
}
<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbwIFCijBHaw2DUGqX_6RfKL8wFotXwwnMHOdfqv1qkmsKyPYIwNZUI2NTdy9Cz1_O8sgw/exec";

document.getElementById("bookingForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const formData = new FormData(this);
  const data = Object.fromEntries(formData.entries());

  fetch(scriptURL, {
    method: "POST",
    body: JSON.stringify(data)
  })
  .then(response => {
    document.getElementById("formMessage").innerHTML =
      "<p style='color:green;'>Booking request submitted successfully. We will confirm via WhatsApp or Email.</p>";
    this.reset();
  })
  .catch(error => {
    document.getElementById("formMessage").innerHTML =
      "<p style='color:red;'>Something went wrong. Please try again.</p>";
  });
});
</script>
</body>
</html>
